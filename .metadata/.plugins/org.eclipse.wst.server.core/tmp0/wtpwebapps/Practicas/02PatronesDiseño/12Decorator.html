<!doctype html>
<html lang="en">
<head>
<title>JavaScript Patterns</title>
<meta charset="utf-8">
</head>
<body>
	<script>
		var tree = {};
		tree.decorate = function() {
			console.log('Make sure the tree won\'t fall');
		};
		tree.getDecorator = function(deco) {
			tree[deco].prototype = this;
			return new tree[deco];
		};
		
		tree.Candies = function(){
			this.decorate = function(){
				this.Candies.prototype.decorate();
				console.log('Put some candies');
			}
		}
		
		tree.RedBalls = function() {
			this.decorate = function() {
				this.RedBalls.prototype.decorate();
				console.log(tree);
				console.log('Put on some red balls');
			}
		};
		tree.BlueBalls = function() {
			this.decorate = function() {
				this.BlueBalls.prototype.decorate();
				console.log(tree);
				console.log('Add blue balls');
			}
		};
		tree.Angel = function() {
			this.decorate = function() {
				this.Angel.prototype.decorate();
				console.log(tree);
				console.log('An angel on the top');
			}
		};
		tree = tree.getDecorator('RedBalls');
		tree = tree.getDecorator('BlueBalls');
		tree = tree.getDecorator('Angel');
		tree = tree.getDecorator('Candies');
		tree.decorate();
		//console.log(tree);
	</script>
</body>
</html>